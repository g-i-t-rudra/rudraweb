<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUDRA Weekly Knowledge Drop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='rudrastyle.css') }}" rel="stylesheet">

    <style>
        body {
            background: radial-gradient(circle, rgba(10, 10, 15, 1) 20%, rgba(1, 1, 2, 1) 80%);
            color: #e8f1f2;
            font-family: 'Poppins', sans-serif;
            overflow: auto;
            margin: 0;
        }

        #blackhole {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        canvas {
            width: 100%;
            height: 100%;
        }

        .content-wrapper {
            position: relative;
            z-index: 1;
            flex: 1;
        }

        .footer .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .footer ul {
            padding: 0;
            list-style: none;
        }

        .footer ul li {
            margin-bottom: 5px;
        }

        .container {
            max-width: 1000px;
            margin: 24px auto;
            border: 2px solid grey !important;
            background: rgba(20, 20, 30, 0.65) !important;
            padding: 24px !important;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8);
        }

        .knowledge-drop-header img {
            width: 100%;
            max-height: 450px;
            object-fit: cover;
            border-bottom: 5px solid #68d4f2;
            border-radius: 12px 12px 0 0;
        }

        .knowledge-drop-content {
            margin-left: 4vw;
            margin-right: 4vw;
            margin-top: 16px;
        }

        .glowing-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 600;
            color: #68d4f2;
            margin-top: 20px;
            animation: glowEffect 3s infinite alternate;
        }

        @keyframes glowEffect {
            0% {
                text-shadow: 0 0 5px rgba(104, 212, 242, 0.3), 0 0 10px rgba(104, 212, 242, 0.2);
                opacity: 0.7;
            }
            50% {
                text-shadow: 0 0 20px rgba(104, 212, 242, 0.8), 0 0 30px rgba(104, 212, 242, 0.5);
                opacity: 1;
            }
            100% {
                text-shadow: 0 0 5px rgba(104, 212, 242, 0.3), 0 0 10px rgba(104, 212, 242, 0.2);
                opacity: 0.7;
            }
        }

        .date-display {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 8px;
            color: #b9e3e5;
        }

        .date-display svg {
            margin-right: 8px;
        }

        .subtitle {
            text-align: center;
            margin-top: 16px;
            color: #e8f1f2;
            font-style: italic;
            font-size: 1.25rem;
        }

        h2 {
            color: #68d4f2;
            font-weight: bold;
            font-size: 1.5rem;
            margin-top: 24px;
            text-transform: uppercase;
        }

        p, li {
            line-height: 1.75;
            font-size: 1.125rem;
            margin-bottom: 20px;
        }

        ul {
            list-style-type: disc;
            padding-left: 24px;
        }

        strong {
            font-weight: 600;
        }

        .math-formula {
            background: rgba(104, 212, 242, 0.1);
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid #68d4f2;
            margin: 20px 0;
            overflow-x: auto;
        }

        .reference-list {
            border-top: 1px solid rgba(104, 212, 242, 0.3);
            margin-top: 40px;
            padding-top: 20px;
        }

        .reference-list li {
            font-size: 0.95rem;
            margin-bottom: 10px;
        }
        .knowledge-content {
    margin-top: 20px;
    font-size: 16px;
    line-height: 1.6;
}

.knowledge-content h2, .knowledge-content h3 {
    margin-bottom: 10px;
    font-weight: bold;
}

.knowledge-content p {
    color: #333; /* Adjust if needed */
}

.knowledge-content hr {
    margin: 20px 0;
    border: 0;
    border-top: 1px solid #ccc;
}
.image-container {
    text-align: center;
    margin-top: 20px;
}

.image-container img {
    max-width: 100%;
    height: auto;
    border-radius: 8px; /* Optional for a polished look */
}
.code-block {
    background-color: inherit; /* Matches the surrounding background */
    color: inherit; /* Matches the text color */
    padding: 10px;
    border: 1px solid rgba(255, 255, 255, 0.2); /* Subtle border */
    border-radius: 5px;
    font-family: monospace;
    overflow-x: auto;
    word-wrap: break-word;
}
/* Styled List - Ensures a modern, clean look */
.styled-list {
    list-style-type: disc; /* Standard bullet points */
    padding-left: 20px; /* Proper indentation */
    color: #c9d1d9; /* Matches the site‚Äôs text color */
    font-size: 16px;
    line-height: 1.6;
}

/* List Unstyled - Removes default bullet points but keeps spacing */
.list-unstyled {
    list-style: none;
    padding: 0;
    margin: 0;
}
h3 {
    color: #9ecbff; /* Lighter than h2 for contrast */
    font-weight: bold;
    font-size: 1.25rem; /* Slightly smaller than h2 */
    margin-top: 20px;
    text-transform: capitalize; /* Avoids competing with h2 */
}
h4 {
    color: #b0d0ff; /* Lighter than h3 for contrast */
    font-weight: bold;
    font-size: 1.1rem; /* Smaller than h3 */
    margin-top: 18px;
    text-transform: none; /* Keeps it natural */
}
h1 {
    font-size: 36px; /* Increased size */
    font-weight: bold;
    text-align: center;
    color: #44ccff; /* Matches the blue text */
    margin-bottom: 10px; /* Adds spacing below */
    margin-top:40px;
}

.styled-table-wrapper {
    overflow-x: auto;
    margin: 1rem 0;
}

.styled-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 1rem;
    font-family: 'Poppins', sans-serif;
    background-color: rgba(25, 30, 40, 0.85); /* slightly brighter than container */
    color: #e8f1f2;
    border: 1px solid rgba(104, 212, 242, 0.2); /* subtle blue tint */
    border-radius: 8px;
    overflow: hidden;
}

.styled-table thead {
    background-color: rgba(30, 35, 50, 0.9);
    color: #68d4f2;
    font-weight: 600;
}

.styled-table th,
.styled-table td {
    padding: 12px 16px;
    border-bottom: 1px solid rgba(104, 212, 242, 0.15); /* fine row separation */
    text-align: center;
}

.styled-table tbody tr:hover {
    background-color: rgba(68, 212, 242, 0.07); /* soft highlight on hover */
}






    </style>
</head>
<body>
      <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg custom-navbar">
        <div class="container-fluid">
            <a class="navbar-brand" href="{{ url_for('home') }}">
                <img src="{{ url_for('static', filename='rudralogo9.jpeg') }}" alt="RUDRA Logo" class="logo" style="border-radius: 50%; width: 50px;">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="{{ url_for('home') }}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('comingsoon') }}">About Us</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                           Initiatives
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Events</a>
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Weekly Knowledge Drops</a>
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Ask Me Anything Sessions</a>
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Study Jams</a>
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Courses</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('comingsoon') }}">Fun Moments</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

 <div id="blackhole"></div>

<div class="content-wrapper">
  <div class="container">
    <div class="knowledge-drop-header">
      <img src="{{ url_for('static', filename='plane-DS.jpg') }}" alt="Data Science in Sports Analytics">
    </div>

    <div class="knowledge-drop-content">
      <h1 class="glowing-title">RUDRA Weekly Knowledge Drop</h1>

      <div class="date-display">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        <h5 id="current-date"></h5>
      </div>

    <h1>üß¨ Knowledge Drop: How Data Science is Learning to Predict the Future of Cancer</h1>

<h3>üå± The Question That Started It All</h3>
<p>
  Imagine a doctor standing in front of a glowing MRI scan. On the screen: a tumour. It isn‚Äôt huge yet, but no one knows how it will behave. 
  Will it double in size in weeks? Stay dormant for months? Shrink with treatment ‚Äî or come roaring back?
</p>
<p>
  Now, imagine if data science could look at that scan and whisper: 
  <em>‚ÄúIt‚Äôs growing at 2% per day, likely to invade nearby tissue within 40 days if untreated.‚Äù</em>
</p>
<p>
  That‚Äôs no longer science fiction ‚Äî it‚Äôs the cutting edge of <strong>data-driven cancer modelling</strong>.
</p>

<h3>üî¨ Why This Is So Fascinating</h3>
<p>
  Cancer isn‚Äôt just a disease ‚Äî it‚Äôs a <em>living system</em>. Every tumour is a chaotic, evolving population of cells that grow, mutate, and sometimes outsmart even the best therapies.
</p>
<p>
  Traditionally, oncologists have measured progress the old-fashioned way:
</p>
<ul class="styled-list">
  <li>Scan the tumour.</li>
  <li>Measure its size.</li>
  <li>Apply treatment.</li>
  <li>Wait a few weeks.</li>
  <li>Scan again.</li>
</ul>
<p>
  In the era of <strong>machine learning</strong> and <strong>mathematical biology</strong>, waiting is not enough. 
  Today‚Äôs scientists want to <strong>predict</strong> ‚Äî not just observe. They‚Äôre asking:
</p>
<ul class="styled-list">
  <li>How fast is this tumour growing right now?</li>
  <li>What‚Äôs its <em>growth rate constant</em>?</li>
  <li>How far will it spread in three months?</li>
  <li>How will it respond if we change the treatment?</li>
</ul>
<p>
  This shift ‚Äî from static measurement to <strong>dynamic prediction</strong> ‚Äî is reshaping oncology.
</p>

<h3>üß† The Big Idea: Predicting Growth Before It Happens</h3>
<p>
  Enter <strong>Multiscale Tumour Growth Modelling</strong> ‚Äî a data-science approach that blends mathematical equations, ML, and patient data to forecast tumour behaviour.
  Every tumour, no matter how chaotic, still follows biological laws: <em>growth</em>, <em>decay</em>, and <em>diffusion</em>. 
  We can express these patterns mathematically, then train ML models to uncover the hidden constants that govern each patient‚Äôs cancer.
</p>

<h3>‚öôÔ∏è Step 1: The Data Behind the Diagnosis</h3>
<p>Each patient‚Äôs journey produces rich data streams:</p>
<ul class="styled-list">
  <li><strong>MRI/CT Scans:</strong> Tumour size and shape over time.</li>
  <li><strong>Genomic Data:</strong> Mutations and gene expression profiles.</li>
  <li><strong>Treatment Logs:</strong> Drug types, dosages, timing.</li>
  <li><strong>Blood Markers:</strong> Proteins/chemicals that reflect tumour activity.</li>
</ul>
<p>
  From this, data scientists build a <strong>time-series</strong> of tumour measurements (e.g., V(t<sub>1</sub>), V(t<sub>2</sub>), V(t<sub>3</sub>) ‚Ä¶) and ask:
  can we learn how volume will change in the future?
</p>

<h3>üß© Step 2: Modelling Growth Like a Living Equation</h3>
<p>
  Think of a tumour as a population of cells that expand, die, and spread. A simplified (non-spatial) model balances two forces:
</p>
<pre>
dV/dt = g ¬∑ V ‚àí d ¬∑ V_treatment
</pre>
<ul class="styled-list">
  <li><strong>g</strong> = growth constant (how fast tumour cells multiply)</li>
  <li><strong>d</strong> = regression constant (how quickly treatment kills them)</li>
</ul>
<p>
  Real tumours also <em>invade</em> nearby tissue. A spatial model adds diffusion:
</p>
<pre>
‚àÇV/‚àÇt = Œ≥ ¬∑ V + D ¬∑ ‚àá¬≤V
</pre>
<ul class="styled-list">
  <li><strong>Œ≥</strong> = net growth rate</li>
  <li><strong>D</strong> = diffusion constant (how fast cells migrate into surrounding tissue)</li>
</ul>
<p>
  It‚Äôs like watching a drop of ink spread through water ‚Äî except the ‚Äúink‚Äù is alive and evolving.
</p>

<h3>üßÆ Step 3: Where Machine Learning Steps In</h3>
<p>
  We can measure tumour volumes from imaging, but we can‚Äôt directly see the hidden constants (Œ≥, D, g, d). 
  ML models <strong>estimate</strong> these parameters from data:
</p>
<ul class="styled-list">
  <li>Fit exponential/logistic growth curves to observed volumes to infer <strong>g</strong> and <strong>d</strong> per patient.</li>
  <li>Use optimisation to calibrate model parameters to each patient‚Äôs trajectory.</li>
  <li>Leverage imaging patterns to infer <strong>D</strong> (diffusion/invasion rate).</li>
</ul>
<p>
  Once trained, the system can <strong>simulate</strong> the tumour‚Äôs future ‚Äî predicting growth speed, likely spread, or stabilisation under treatment.
</p>

<h3>üîÅ Step 4: From Simulation to Prediction</h3>
<p>
  In practice, the pipeline looks like this:
</p>
<pre>
For each patient:
    Collect V(t1‚Ä¶tN)
    Estimate growth (g), regression (d), and diffusion (D)
    Combine with genomic + clinical features
    Predict future tumour trajectory and risk
    If risk > threshold ‚Üí recommend treatment re-evaluation
</pre>
<p>
  <em>Example output:</em> ‚ÄúPatient 032 ‚Äî Predicted doubling time: 21 days. Regression constant: low. 
  Diffusion constant: high ‚Üí aggressive local invasion likely.‚Äù
</p>

<h3>üß¨ Step 5: Making It Personal</h3>
<p>
  Every cancer is unique ‚Äî shaped by genetics, the immune system, and the microenvironment. 
  By estimating these constants <strong>per patient</strong>, oncologists can personalise therapy:
</p>
<ul class="styled-list">
  <li>High <strong>g</strong>, low <strong>D</strong> ‚Üí consider targeted systemic therapy.</li>
  <li>Moderate <strong>g</strong>, high <strong>D</strong> ‚Üí prioritise local control (e.g., radiation) to prevent invasion.</li>
</ul>
<p>
  The system improves with each new scan, continuously refining its predictions.
</p>

<h3>‚öóÔ∏è Real Case Example</h3>
<p>
  In one study using clinical trial data, researchers estimated <strong>g</strong> (growth) and <strong>d</strong> (regression) for metastatic cancers. 
  They found distinct phenotypes: fast-growing but treatment-responsive tumours vs slow-growing yet stubborn tumours.
</p>
<p>
  In another project modelling glioma invasion, higher diffusion constants (<strong>D</strong>) correlated with worse outcomes ‚Äî cells infiltrated deep into tissue 
  even before large volume changes were visible, guiding earlier, more aggressive intervention.
</p>

<h3>üåç Challenges on the Frontline</h3>
<ul class="styled-list">
  <li><strong>Data Scarcity:</strong> Longitudinal tumour measurements are limited.</li>
  <li><strong>Measurement Noise:</strong> Imaging variability; small errors can cascade.</li>
  <li><strong>Tumour Heterogeneity:</strong> Different regions may grow differently.</li>
  <li><strong>Explainability:</strong> Clinicians need interpretable parameters and trajectories.</li>
  <li><strong>Ethical Use:</strong> Predicting disease trajectories requires careful governance.</li>
</ul>

<h3>üöÄ Why It‚Äôs a Breakthrough</h3>
<p>
  This isn‚Äôt just ‚ÄúAI for detection.‚Äù It‚Äôs <strong>AI for understanding</strong>. 
  It merges:
</p>
<ul class="styled-list">
  <li><strong>Mathematical biology:</strong> growth and diffusion equations</li>
  <li><strong>Data science:</strong> curve-fitting and optimisation</li>
  <li><strong>Machine learning:</strong> prediction and uncertainty quantification</li>
  <li><strong>Clinical practice:</strong> real-time decision support</li>
</ul>
<p>
  Data science becomes a <em>dynamic scientific instrument</em> ‚Äî modelling the rhythm of disease itself.
</p>

<h3>üîÆ The Future: Forecasting the Fight</h3>
<ul class="styled-list">
  <li><strong>Digital Twins:</strong> A patient-specific virtual tumour to test therapies in silico.</li>
  <li><strong>What-If Simulation:</strong> Try alternative regimens before changing care.</li>
  <li><strong>Federated Learning:</strong> Improve models across hospitals without sharing raw data.</li>
</ul>
<p>
  We‚Äôre heading toward a future where data science doesn‚Äôt just analyse life ‚Äî it <strong>anticipates</strong> it.
</p>

<h3>‚ú® Conclusion</h3>
<p>
  Cancer care used to be reactive ‚Äî diagnose, treat, observe. With ML and mathematical modelling, it‚Äôs becoming <strong>predictive</strong>. 
  By estimating how fast tumours grow, how they spread, and how they respond to treatment, data science helps clinicians see ahead ‚Äî and act before it‚Äôs too late.
</p>
<p>
  In the quiet war between medicine and mutation, this is humanity‚Äôs newest tool: 
  <strong>a model that can forecast life itself.</strong>
</p>

<h3>üß© Discussion Question</h3>
<p>
  <strong>How could integrating patient-specific growth/diffusion parameter estimation with digital-twin simulations change treatment planning and monitoring over the next decade?</strong>
</p>


    <!-- Footer Start -->
    <footer class="footer">
        <div class="container">
            <div class="row d-flex justify-content-around">
                <div class="col-md-3">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="{{ url_for('knowledge_drop') }}">&#x3E; Latest Weekly Knowledge Drop</a></li>
                        <li><a href="https://forms.gle/Tv4uMC2mN9kQ7Dta7">&#x3E; Register for Microsoft Study Jams</a></li>
                        <li><a href="{{ url_for('comingsoon') }}">&#x3E; Register and Join RUDRA</a></li>
                        <li><a href="{{ url_for('comingsoon') }}">&#x3E; Explore Blogs</a></li>
                        <li><a href="#" class="go-to-top">&#x3E; Go to Top</a></li>
                    </ul>
                </div>
                <div class="col-md-3 text-center">
                    <h5>Follow Us</h5>
                    <ul class="social-icons">
                        <li><a href="https://www.instagram.com/rudra.rvu"><i class="fab fa-instagram"></i></a></li>
                        <li><a href="#"><i class="fab fa-linkedin"></i></a></li>
                        <li><a href="#"><i class="fab fa-github"></i></a></li>
                        <li><a href="#"><i class="fab fa-youtube"></i></a></li>
                        <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Contact</h5>
                    <ul class="list-unstyled">
                        <li><a href="mailto:info@example.com"><i class="far fa-envelope"></i> Email</a></li>
                        <li>
                            <a href="mailto:contact.rudrarvu@gmail.com?cc=sujayvk.btech23@rvu.edu.in,adityas.btech23@rvu.edu.in,vaishnavs.btech23@rvu.edu.in">
                                <i class="far fa-envelope"></i> Contact Executive Board
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer End -->

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    <script>
        // Set the current date
        document.addEventListener('DOMContentLoaded', function() {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const currentDate = new Date().toLocaleDateString('en-US', options);
            document.getElementById('current-date').textContent = currentDate;
            
            // Initialize black hole
            blackhole('#blackhole');
        });
        
        // Black hole animation
        function blackhole(element) {
            var h = $(element).height(),
                w = $(element).width(),
                cw = w,
                ch = h,
                maxorbit = 255, // distance from center
                centery = ch/2,
                centerx = cw/2;

            var startTime = new Date().getTime();
            var currentTime = 0;

            var stars = [],
                collapse = false, // if hovered
                expanse = false; // if clicked

            var canvas = $('<canvas/>').attr({width: cw, height: ch}).appendTo(element),
                context = canvas.get(0).getContext("2d");

            context.globalCompositeOperation = "lighter";
            function setDPI(canvas, dpi) {
                if (!canvas.get(0).style.width)
                    canvas.get(0).style.width = canvas.get(0).width + 'px';
                if (!canvas.get(0).style.height)
                    canvas.get(0).style.height = canvas.get(0).height + 'px';

                var scaleFactor = dpi / 96;
                canvas.get(0).width = Math.ceil(canvas.get(0).width * scaleFactor);
                canvas.get(0).height = Math.ceil(canvas.get(0).height * scaleFactor);
                var ctx = canvas.get(0).getContext('2d');
                ctx.scale(scaleFactor, scaleFactor);
            }

            function rotate(cx, cy, x, y, angle) {
                var radians = angle,
                    cos = Math.cos(radians),
                    sin = Math.sin(radians),
                    nx = (cos * (x - cx)) + (sin * (y - cy)) + cx,
                    ny = (cos * (y - cy)) - (sin * (x - cx)) + cy;
                return [nx, ny];
            }

            setDPI(canvas, 192);

            var star = function(){
                var rands = [];
                rands.push(Math.random() * (maxorbit/2) + 1);
                rands.push(Math.random() * (maxorbit/2) + maxorbit);

                this.orbital = (rands.reduce(function(p, c) {
                    return p + c;
                }, 0) / rands.length);

                this.x = centerx;
                this.y = centery + this.orbital;
                this.yOrigin = centery + this.orbital;
                this.speed = (Math.floor(Math.random() * 2.5) + 1.5)*Math.PI/180;
                this.rotation = 0;
                this.startRotation = (Math.floor(Math.random() * 360) + 1)*Math.PI/180;
                this.id = stars.length;
                this.collapseBonus = this.orbital - (maxorbit * 0.7);
                
                if(this.collapseBonus < 0){
                    this.collapseBonus = 0;
                }

                stars.push(this);
                this.color = 'rgba(104, 212, 242,'+ (1 - ((this.orbital) / 255)) +')';
                this.hoverPos = centery + (maxorbit/2) + this.collapseBonus;
                this.expansePos = centery + (this.id%100)*-10 + (Math.floor(Math.random() * 20) + 1);
                this.prevR = this.startRotation;
                this.prevX = this.x;
                this.prevY = this.y;
            }
            
            star.prototype.draw = function(){
                if(!expanse){
                    this.rotation = this.startRotation + (currentTime * this.speed);
                    if(!collapse){
                        if(this.y > this.yOrigin){
                            this.y-= 2.5;
                        }
                        if(this.y < this.yOrigin-4){
                            this.y+= (this.yOrigin - this.y) / 10;
                        }
                    } else {
                        this.trail = 1;
                        if(this.y > this.hoverPos){
                            this.y-= (this.hoverPos - this.y) / -5;
                        }
                        if(this.y < this.hoverPos-4){
                            this.y+= 2.5;
                        }
                    }
                } else {
                    this.rotation = this.startRotation + (currentTime * (this.speed / 2));
                    if(this.y > this.expansePos){
                        this.y-= Math.floor(this.expansePos - this.y) / -140;
                    }
                }

                context.save();
                context.fillStyle = this.color;
                context.strokeStyle = this.color;
                context.beginPath();
                var oldPos = rotate(centerx,centery,this.prevX,this.prevY,-this.prevR);
                context.moveTo(oldPos[0],oldPos[1]);
                context.translate(centerx, centery);
                context.rotate(this.rotation);
                context.translate(-centerx, -centery);
                context.lineTo(this.x,this.y);
                context.stroke();
                context.restore();

                this.prevR = this.rotation;
                this.prevX = this.x;
                this.prevY = this.y;
            }

            $(window).on('resize', function(){
                h = $(element).height();
                w = $(element).width();
                cw = w;
                ch = h;
                centerx = cw/2;
                centery = ch/2;
                
                canvas.attr({width: cw, height: ch});
                setDPI(canvas, 192);
                stars = [];
                
                context.fillStyle = 'rgba(25,25,25,1)';
                context.fillRect(0, 0, cw, ch);
                for(var i = 0; i < 2000; i++){
                    new star();
                }
            });

            window.requestFrame = (function(){
                return  window.requestAnimationFrame       ||
                    window.webkitRequestAnimationFrame ||
                    window.mozRequestAnimationFrame    ||
                    function( callback ){
                    window.setTimeout(callback, 1000 / 60);
                };
            })();

            function loop(){
                var now = new Date().getTime();
                currentTime = (now - startTime) / 50;

                context.fillStyle = 'rgba(25,25,25,0.2)';
                context.fillRect(0, 0, cw, ch);

                for(var i = 0; i < stars.length; i++){
                    if(stars[i] != stars){
                        stars[i].draw();
                    }
                }

                requestFrame(loop);
            }

            function init(){
                context.fillStyle = 'rgba(25,25,25,1)';
                context.fillRect(0, 0, cw, ch);
                for(var i = 0; i < 2000; i++){
                    new star();
                }
                loop();
            }
            
            init();
            
            $('.container').on('mouseover', function(){
                collapse = true;
            }).on('mouseout', function(){
                collapse = false;
            });
        }
        
    </script>
</body>
</html>



