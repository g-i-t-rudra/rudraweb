<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUDRA Weekly Knowledge Drop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='rudrastyle.css') }}" rel="stylesheet">

    <style>
        body {
            background: radial-gradient(circle, rgba(10, 10, 15, 1) 20%, rgba(1, 1, 2, 1) 80%);
            color: #e8f1f2;
            font-family: 'Poppins', sans-serif;
            overflow: auto;
            margin: 0;
        }

        #blackhole {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        canvas {
            width: 100%;
            height: 100%;
        }

        .content-wrapper {
            position: relative;
            z-index: 1;
            flex: 1;
        }

        .footer .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .footer ul {
            padding: 0;
            list-style: none;
        }

        .footer ul li {
            margin-bottom: 5px;
        }

        .container {
            max-width: 1000px;
            margin: 24px auto;
            border: 2px solid grey !important;
            background: rgba(20, 20, 30, 0.65) !important;
            padding: 24px !important;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8);
        }

        .knowledge-drop-header img {
            width: 100%;
            max-height: 450px;
            object-fit: cover;
            border-bottom: 5px solid #68d4f2;
            border-radius: 12px 12px 0 0;
        }

        .knowledge-drop-content {
            margin-left: 4vw;
            margin-right: 4vw;
            margin-top: 16px;
        }

        .glowing-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 600;
            color: #68d4f2;
            margin-top: 20px;
            animation: glowEffect 3s infinite alternate;
        }

        @keyframes glowEffect {
            0% {
                text-shadow: 0 0 5px rgba(104, 212, 242, 0.3), 0 0 10px rgba(104, 212, 242, 0.2);
                opacity: 0.7;
            }
            50% {
                text-shadow: 0 0 20px rgba(104, 212, 242, 0.8), 0 0 30px rgba(104, 212, 242, 0.5);
                opacity: 1;
            }
            100% {
                text-shadow: 0 0 5px rgba(104, 212, 242, 0.3), 0 0 10px rgba(104, 212, 242, 0.2);
                opacity: 0.7;
            }
        }

        .date-display {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 8px;
            color: #b9e3e5;
        }

        .date-display svg {
            margin-right: 8px;
        }

        .subtitle {
            text-align: center;
            margin-top: 16px;
            color: #e8f1f2;
            font-style: italic;
            font-size: 1.25rem;
        }

        h2 {
            color: #68d4f2;
            font-weight: bold;
            font-size: 1.5rem;
            margin-top: 24px;
            text-transform: uppercase;
        }

        p, li {
            line-height: 1.75;
            font-size: 1.125rem;
            margin-bottom: 20px;
        }

        ul {
            list-style-type: disc;
            padding-left: 24px;
        }

        strong {
            font-weight: 600;
        }

        .math-formula {
            background: rgba(104, 212, 242, 0.1);
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid #68d4f2;
            margin: 20px 0;
            overflow-x: auto;
        }

        .reference-list {
            border-top: 1px solid rgba(104, 212, 242, 0.3);
            margin-top: 40px;
            padding-top: 20px;
        }

        .reference-list li {
            font-size: 0.95rem;
            margin-bottom: 10px;
        }
        .knowledge-content {
    margin-top: 20px;
    font-size: 16px;
    line-height: 1.6;
}

.knowledge-content h2, .knowledge-content h3 {
    margin-bottom: 10px;
    font-weight: bold;
}

.knowledge-content p {
    color: #333; /* Adjust if needed */
}

.knowledge-content hr {
    margin: 20px 0;
    border: 0;
    border-top: 1px solid #ccc;
}
.image-container {
    text-align: center;
    margin-top: 20px;
}

.image-container img {
    max-width: 100%;
    height: auto;
    border-radius: 8px; /* Optional for a polished look */
}
.code-block {
    background-color: inherit; /* Matches the surrounding background */
    color: inherit; /* Matches the text color */
    padding: 10px;
    border: 1px solid rgba(255, 255, 255, 0.2); /* Subtle border */
    border-radius: 5px;
    font-family: monospace;
    overflow-x: auto;
    word-wrap: break-word;
}
/* Styled List - Ensures a modern, clean look */
.styled-list {
    list-style-type: disc; /* Standard bullet points */
    padding-left: 20px; /* Proper indentation */
    color: #c9d1d9; /* Matches the site‚Äôs text color */
    font-size: 16px;
    line-height: 1.6;
}

/* List Unstyled - Removes default bullet points but keeps spacing */
.list-unstyled {
    list-style: none;
    padding: 0;
    margin: 0;
}
h3 {
    color: #9ecbff; /* Lighter than h2 for contrast */
    font-weight: bold;
    font-size: 1.25rem; /* Slightly smaller than h2 */
    margin-top: 20px;
    text-transform: capitalize; /* Avoids competing with h2 */
}
h4 {
    color: #b0d0ff; /* Lighter than h3 for contrast */
    font-weight: bold;
    font-size: 1.1rem; /* Smaller than h3 */
    margin-top: 18px;
    text-transform: none; /* Keeps it natural */
}
h1 {
    font-size: 36px; /* Increased size */
    font-weight: bold;
    text-align: center;
    color: #44ccff; /* Matches the blue text */
    margin-bottom: 10px; /* Adds spacing below */
    margin-top:40px;
}

.styled-table-wrapper {
    overflow-x: auto;
    margin: 1rem 0;
}

.styled-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 1rem;
    font-family: 'Poppins', sans-serif;
    background-color: rgba(25, 30, 40, 0.85); /* slightly brighter than container */
    color: #e8f1f2;
    border: 1px solid rgba(104, 212, 242, 0.2); /* subtle blue tint */
    border-radius: 8px;
    overflow: hidden;
}

.styled-table thead {
    background-color: rgba(30, 35, 50, 0.9);
    color: #68d4f2;
    font-weight: 600;
}

.styled-table th,
.styled-table td {
    padding: 12px 16px;
    border-bottom: 1px solid rgba(104, 212, 242, 0.15); /* fine row separation */
    text-align: center;
}

.styled-table tbody tr:hover {
    background-color: rgba(68, 212, 242, 0.07); /* soft highlight on hover */
}






    </style>
</head>
<body>
      <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg custom-navbar">
        <div class="container-fluid">
            <a class="navbar-brand" href="{{ url_for('home') }}">
                <img src="{{ url_for('static', filename='rudralogo9.jpeg') }}" alt="RUDRA Logo" class="logo" style="border-radius: 50%; width: 50px;">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="{{ url_for('home') }}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('comingsoon') }}">About Us</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                           Initiatives
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Events</a>
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Weekly Knowledge Drops</a>
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Ask Me Anything Sessions</a>
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Study Jams</a>
                            <a class="dropdown-item" href="{{ url_for('comingsoon') }}">Courses</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('comingsoon') }}">Fun Moments</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

 <div id="blackhole"></div>

<div class="content-wrapper">
  <div class="container">
    <div class="knowledge-drop-header">
      <img src="{{ url_for('static', filename='transport-DS.jpeg') }}" alt="Data Science in Sports Analytics">
    </div>

    <div class="knowledge-drop-content">
      <h1 class="glowing-title">RUDRA Weekly Knowledge Drop</h1>

      <div class="date-display">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        <h5 id="current-date"></h5>
      </div>

    <h1>üõ∞Ô∏è Knowledge Drop: How Data Science is Steering the Future of Transportation</h1>

<h3>üö¶ The Question That Started It All</h3>
<p>
  Imagine a bustling city during rush hour. Cars crawling, buses stuck, signals blinking red while people anxiously check their watches. 
  Now imagine if a system could predict the congestion 20 minutes before it happens, reroute vehicles automatically, and make the traffic lights ‚Äúthink‚Äù ahead.
</p>
<p>
  That‚Äôs not a futuristic dream anymore ‚Äî it‚Äôs data science in motion, quietly transforming how the world moves.
</p>

<p>________________________________________</p>

<h3>üöó Why This Is So Fascinating</h3>
<p>
  Transportation is the lifeline of cities ‚Äî but it‚Äôs also messy, unpredictable, and inefficient.
  Traditionally, transport planning relied on static data and slow responses:
</p>
<ul class="styled-list">
  <li>Collect surveys.</li>
  <li>Build schedules.</li>
  <li>Wait for complaints.</li>
  <li>Update routes next month.</li>
</ul>
<p>
  In the era of real-time data and machine learning, that old cycle is breaking. Planners and engineers now ask:
</p>
<ul class="styled-list">
  <li>How can we predict traffic before it builds up?</li>
  <li>Can buses and trains adjust routes dynamically?</li>
  <li>How can delivery fleets use past data to save time and fuel?</li>
  <li>Can cities design roads smarter by learning from movement data?</li>
</ul>
<p>
  This shift ‚Äî from reaction to prediction ‚Äî is the heart of data-driven transportation.
</p>

<p>________________________________________</p>

<h3>üß† The Big Idea: Predicting Movement Before It Happens</h3>
<p>
  Data science gives us the tools to model and forecast mobility itself. From GPS traces, sensor networks, and public transport logs, we can learn patterns of flow ‚Äî how people and goods move through space and time ‚Äî and anticipate what comes next.
</p>
<p>
  It‚Äôs not just analysing vehicles; it‚Äôs understanding movement as a living system.
</p>

<p>________________________________________</p>

<h3>‚öôÔ∏è Step 1: The Data That Moves the World</h3>
<p>Every modern transportation system generates rivers of data:</p>
<ul class="styled-list">
  <li><strong>GPS &amp; IoT Sensors:</strong> Vehicle speed, routes, and engine health.</li>
  <li><strong>Smart Traffic Cameras:</strong> Vehicle counts, violations, congestion levels.</li>
  <li><strong>Public Transport Logs:</strong> Ticket swipes, passenger volume by stop, delay records.</li>
  <li><strong>Weather &amp; Event Data:</strong> Rainfall, sports events, or holidays that affect travel.</li>
</ul>
<p>
  Together, they form a dynamic map of how the world moves every second.
</p>

<p>________________________________________</p>

<h3>üß© Step 2: Modelling the Flow Like a Living Network</h3>
<p>
  At its core, traffic behaves like fluid ‚Äî constantly moving, colliding, dispersing. Data scientists use mathematical and simulation models to represent this flow.
  For example:
</p>
<pre>
Vehicle Density Equation:
‚àÇD/‚àÇt = ‚àí‚àá(v¬∑D) + S(t)
</pre>
<ul class="styled-list">
  <li><strong>D</strong> = vehicle density</li>
  <li><strong>v</strong> = average speed field</li>
  <li><strong>S(t)</strong> = sources (e.g., vehicles entering/exiting)</li>
</ul>
<p>
  This allows prediction of bottlenecks or congestion waves ‚Äî like ripples moving through a river of cars.
</p>

<p>________________________________________</p>

<h3>üßÆ Step 3: Where Machine Learning Takes the Wheel</h3>
<p>
  Machine learning thrives on mobility data. It can learn complex patterns that humans can‚Äôt easily see:
</p>
<ul class="styled-list">
  <li><strong>Time-series forecasting models</strong> (like LSTM networks) predict future traffic volumes.</li>
  <li><strong>Clustering algorithms</strong> group similar travel behaviours to optimise routes.</li>
  <li><strong>Reinforcement learning</strong> helps autonomous vehicles and signal systems adapt in real time.</li>
  <li><strong>Anomaly detection</strong> identifies unusual congestion or accidents instantly.</li>
</ul>
<p>
  These systems evolve with every trip, learning and improving from billions of data points daily.
</p>

<p>________________________________________</p>

<h3>üîÅ Step 4: From Simulation to Smart Decisions</h3>
<p>Here‚Äôs how a real-world pipeline might look:</p>
<pre>
1. Collect live data from traffic sensors and GPS units.
2. Train ML models to forecast congestion and demand.
3. Send predictions to city control systems.
4. Adjust traffic signals, route public buses, or suggest alternate paths to drivers.
</pre>
<p>
  <em>Example output:</em> ‚ÄúCongestion expected at Sector 22 in 12 minutes. Divert Route 45 buses via Main Bypass. Predicted delay reduction: 18%.‚Äù
</p>

<p>________________________________________</p>

<h3>üß© Step 5: Making It Personal and Efficient</h3>
<p>
  Data science isn‚Äôt just for city planners ‚Äî it‚Äôs shaping personal mobility too:
</p>
<ul class="styled-list">
  <li>Ride-hailing apps predict surge pricing and allocate drivers efficiently.</li>
  <li>Logistics companies optimise delivery routes in real time.</li>
  <li>EV fleet managers predict when and where to charge for minimal downtime.</li>
</ul>
<p>
  By combining historical patterns, real-time data, and predictive algorithms, the transport ecosystem becomes self-adjusting ‚Äî like a living, learning organism.
</p>

<p>________________________________________</p>

<h3>üöö Real Case Example</h3>
<ul class="styled-list">
  <li>Singapore‚Äôs Smart Mobility initiatives use AI traffic prediction to manage urban flow dynamically ‚Äî cutting congestion by measurable percentages.</li>
  <li>UPS uses data-driven route optimisation (‚ÄúORION‚Äù) to save millions of gallons of fuel annually.</li>
  <li>London‚Äôs TfL analyses Oyster card data to adapt train frequency based on passenger demand patterns.</li>
</ul>

<p>________________________________________</p>

<h3>üåç Challenges on the Road</h3>
<ul class="styled-list">
  <li><strong>Data Privacy:</strong> Tracking movement data must respect user anonymity.</li>
  <li><strong>Infrastructure Gaps:</strong> Sensors and IoT devices aren‚Äôt universal yet.</li>
  <li><strong>Interoperability:</strong> Different systems rarely share data smoothly.</li>
  <li><strong>Bias &amp; Fairness:</strong> Algorithms must not prioritise certain routes or regions unfairly.</li>
  <li><strong>Scalability:</strong> Real-time analysis of millions of vehicles requires massive computing power.</li>
</ul>

<p>________________________________________</p>

<h3>üöÄ Why It‚Äôs a Breakthrough</h3>
<p>
  This isn‚Äôt just about traffic control ‚Äî it‚Äôs about mobility intelligence.
  It merges:
</p>
<ul class="styled-list">
  <li>Transportation engineering üèóÔ∏è</li>
  <li>Mathematical modelling üìâ</li>
  <li>Data analytics &amp; AI ü§ñ</li>
  <li>Environmental planning üå±</li>
</ul>
<p>
  The result? A system that not only moves people faster but also learns from every journey.
</p>

<p>________________________________________</p>

<h3>üîÆ The Future: Digital Twins &amp; Autonomous Highways</h3>
<p>
  The next frontier is digital twins of entire cities ‚Äî virtual replicas that simulate every car, signal, and intersection in real time. 
  Combine that with autonomous fleets and satellite data, and cities will be able to test and optimise their mobility before changing a single traffic light in the real world.
</p>

<p>________________________________________</p>

<h3>‚ú® Conclusion</h3>
<p>
  Transportation used to be reactive ‚Äî manage jams, fix routes, wait for problems. With data science, it‚Äôs becoming predictive and proactive. 
  From smart signals to self-optimising routes, data is steering us toward a world where cities think ahead ‚Äî keeping everyone moving smoothly and sustainably.
</p>

<p>________________________________________</p>

<h3>üß© Discussion Question</h3>
<p>
  <strong>How could integrating AI-based traffic prediction with real-time vehicle data reshape public transport planning and congestion control in the next decade?</strong>
</p>

<h3>üîé Tidbit: How Google Maps Predicts &amp; Helps Decongest Traffic</h3> 
        <p> Google Maps combines real-time and historical data to estimate current and future traffic conditions. Key ingredients: </p> 
        <ul class="styled-list"> 
            <li><strong>Aggregated location data:</strong> Anonymous, aggregated GPS signals from millions of devices provide live speed and density estimates on road segments.</li> 
            <li><strong>Historical patterns:</strong> Past traffic behaviour for the same road, day-of-week, and time-of-day helps predict typical congestion trends.</li>
            <li><strong>Incident &amp; crowdsourced reports:</strong> User reports (and Waze integration), traffic sensors, and public incident feeds flag accidents, roadworks, and closures instantly.</li> 
            <li><strong>Machine learning models:</strong> ML blends live and historical signals to predict short-term changes in speed and travel time, and to estimate ETAs.</li> 
            <li><strong>Routing &amp; rerouting:</strong> When the system predicts slower travel on a route, it suggests faster alternatives to drivers and dynamically updates directions to spread load across the network.</li> 
            <li><strong>Privacy-preserving measures:</strong> Data is anonymized and aggregated to protect user privacy while still enabling accurate traffic insights.</li> 
        </ul> 
        <p> Together, these components let Google Maps do more than show current jams ‚Äî it forecasts near-term traffic, suggests smarter routes, and helps distribute vehicles more evenly across the road network to reduce overall congestion. </p>


    <!-- Footer Start -->
    <footer class="footer">
        <div class="container">
            <div class="row d-flex justify-content-around">
                <div class="col-md-3">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="{{ url_for('knowledge_drop') }}">&#x3E; Latest Weekly Knowledge Drop</a></li>
                        <li><a href="https://forms.gle/Tv4uMC2mN9kQ7Dta7">&#x3E; Register for Microsoft Study Jams</a></li>
                        <li><a href="{{ url_for('comingsoon') }}">&#x3E; Register and Join RUDRA</a></li>
                        <li><a href="{{ url_for('comingsoon') }}">&#x3E; Explore Blogs</a></li>
                        <li><a href="#" class="go-to-top">&#x3E; Go to Top</a></li>
                    </ul>
                </div>
                <div class="col-md-3 text-center">
                    <h5>Follow Us</h5>
                    <ul class="social-icons">
                        <li><a href="https://www.instagram.com/rudra.rvu"><i class="fab fa-instagram"></i></a></li>
                        <li><a href="#"><i class="fab fa-linkedin"></i></a></li>
                        <li><a href="#"><i class="fab fa-github"></i></a></li>
                        <li><a href="#"><i class="fab fa-youtube"></i></a></li>
                        <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Contact</h5>
                    <ul class="list-unstyled">
                        <li><a href="mailto:info@example.com"><i class="far fa-envelope"></i> Email</a></li>
                        <li>
                            <a href="mailto:contact.rudrarvu@gmail.com?cc=sujayvk.btech23@rvu.edu.in,adityas.btech23@rvu.edu.in,vaishnavs.btech23@rvu.edu.in">
                                <i class="far fa-envelope"></i> Contact Executive Board
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer End -->

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    <script>
        // Set the current date
        document.addEventListener('DOMContentLoaded', function() {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const currentDate = new Date().toLocaleDateString('en-US', options);
            document.getElementById('current-date').textContent = currentDate;
            
            // Initialize black hole
            blackhole('#blackhole');
        });
        
        // Black hole animation
        function blackhole(element) {
            var h = $(element).height(),
                w = $(element).width(),
                cw = w,
                ch = h,
                maxorbit = 255, // distance from center
                centery = ch/2,
                centerx = cw/2;

            var startTime = new Date().getTime();
            var currentTime = 0;

            var stars = [],
                collapse = false, // if hovered
                expanse = false; // if clicked

            var canvas = $('<canvas/>').attr({width: cw, height: ch}).appendTo(element),
                context = canvas.get(0).getContext("2d");

            context.globalCompositeOperation = "lighter";
            function setDPI(canvas, dpi) {
                if (!canvas.get(0).style.width)
                    canvas.get(0).style.width = canvas.get(0).width + 'px';
                if (!canvas.get(0).style.height)
                    canvas.get(0).style.height = canvas.get(0).height + 'px';

                var scaleFactor = dpi / 96;
                canvas.get(0).width = Math.ceil(canvas.get(0).width * scaleFactor);
                canvas.get(0).height = Math.ceil(canvas.get(0).height * scaleFactor);
                var ctx = canvas.get(0).getContext('2d');
                ctx.scale(scaleFactor, scaleFactor);
            }

            function rotate(cx, cy, x, y, angle) {
                var radians = angle,
                    cos = Math.cos(radians),
                    sin = Math.sin(radians),
                    nx = (cos * (x - cx)) + (sin * (y - cy)) + cx,
                    ny = (cos * (y - cy)) - (sin * (x - cx)) + cy;
                return [nx, ny];
            }

            setDPI(canvas, 192);

            var star = function(){
                var rands = [];
                rands.push(Math.random() * (maxorbit/2) + 1);
                rands.push(Math.random() * (maxorbit/2) + maxorbit);

                this.orbital = (rands.reduce(function(p, c) {
                    return p + c;
                }, 0) / rands.length);

                this.x = centerx;
                this.y = centery + this.orbital;
                this.yOrigin = centery + this.orbital;
                this.speed = (Math.floor(Math.random() * 2.5) + 1.5)*Math.PI/180;
                this.rotation = 0;
                this.startRotation = (Math.floor(Math.random() * 360) + 1)*Math.PI/180;
                this.id = stars.length;
                this.collapseBonus = this.orbital - (maxorbit * 0.7);
                
                if(this.collapseBonus < 0){
                    this.collapseBonus = 0;
                }

                stars.push(this);
                this.color = 'rgba(104, 212, 242,'+ (1 - ((this.orbital) / 255)) +')';
                this.hoverPos = centery + (maxorbit/2) + this.collapseBonus;
                this.expansePos = centery + (this.id%100)*-10 + (Math.floor(Math.random() * 20) + 1);
                this.prevR = this.startRotation;
                this.prevX = this.x;
                this.prevY = this.y;
            }
            
            star.prototype.draw = function(){
                if(!expanse){
                    this.rotation = this.startRotation + (currentTime * this.speed);
                    if(!collapse){
                        if(this.y > this.yOrigin){
                            this.y-= 2.5;
                        }
                        if(this.y < this.yOrigin-4){
                            this.y+= (this.yOrigin - this.y) / 10;
                        }
                    } else {
                        this.trail = 1;
                        if(this.y > this.hoverPos){
                            this.y-= (this.hoverPos - this.y) / -5;
                        }
                        if(this.y < this.hoverPos-4){
                            this.y+= 2.5;
                        }
                    }
                } else {
                    this.rotation = this.startRotation + (currentTime * (this.speed / 2));
                    if(this.y > this.expansePos){
                        this.y-= Math.floor(this.expansePos - this.y) / -140;
                    }
                }

                context.save();
                context.fillStyle = this.color;
                context.strokeStyle = this.color;
                context.beginPath();
                var oldPos = rotate(centerx,centery,this.prevX,this.prevY,-this.prevR);
                context.moveTo(oldPos[0],oldPos[1]);
                context.translate(centerx, centery);
                context.rotate(this.rotation);
                context.translate(-centerx, -centery);
                context.lineTo(this.x,this.y);
                context.stroke();
                context.restore();

                this.prevR = this.rotation;
                this.prevX = this.x;
                this.prevY = this.y;
            }

            $(window).on('resize', function(){
                h = $(element).height();
                w = $(element).width();
                cw = w;
                ch = h;
                centerx = cw/2;
                centery = ch/2;
                
                canvas.attr({width: cw, height: ch});
                setDPI(canvas, 192);
                stars = [];
                
                context.fillStyle = 'rgba(25,25,25,1)';
                context.fillRect(0, 0, cw, ch);
                for(var i = 0; i < 2000; i++){
                    new star();
                }
            });

            window.requestFrame = (function(){
                return  window.requestAnimationFrame       ||
                    window.webkitRequestAnimationFrame ||
                    window.mozRequestAnimationFrame    ||
                    function( callback ){
                    window.setTimeout(callback, 1000 / 60);
                };
            })();

            function loop(){
                var now = new Date().getTime();
                currentTime = (now - startTime) / 50;

                context.fillStyle = 'rgba(25,25,25,0.2)';
                context.fillRect(0, 0, cw, ch);

                for(var i = 0; i < stars.length; i++){
                    if(stars[i] != stars){
                        stars[i].draw();
                    }
                }

                requestFrame(loop);
            }

            function init(){
                context.fillStyle = 'rgba(25,25,25,1)';
                context.fillRect(0, 0, cw, ch);
                for(var i = 0; i < 2000; i++){
                    new star();
                }
                loop();
            }
            
            init();
            
            $('.container').on('mouseover', function(){
                collapse = true;
            }).on('mouseout', function(){
                collapse = false;
            });
        }
        
    </script>
</body>
</html>







